#!/bin/bash

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞"
echo "======================================"

FILE_URL="http://img.instrumentstore.ru:5000/img/1_577050.jpg"

echo ""
echo "1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞:"
echo "   URL: $FILE_URL"

# –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏
echo ""
echo "   –í—ã–ø–æ–ª–Ω—è–µ–º: curl -I --connect-timeout 10 $FILE_URL"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ curl —Å —Ç–∞–π–º–∞—É—Ç–æ–º
curl -I --connect-timeout 10 "$FILE_URL" 2>/dev/null | head -5

if [ $? -eq 0 ]; then
    echo ""
    echo "   ‚úÖ –§–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω (–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç)"
else
    echo ""
    echo "   ‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"
    echo "   –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"
    echo "   - –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    echo "   - –§–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
    echo "   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Ç–∏"
fi

echo ""
echo "2. –¢–µ—Å—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ API –º–æ–¥–µ—Ä–∞—Ü–∏–∏:"
echo "   –¢–æ–≤–∞—Ä ID: 112 (REAL-FILE-TEST)"

API_URL="http://localhost:3000/api"
API_KEY="test_api_key_123456"

echo ""
echo "3. –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –ª–æ–≥–æ–≤:"
echo "   –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:"
echo "   cd moderation-system && tail -f backend/backend.log"
echo ""
echo "4. –ó–∞—Ç–µ–º –≤ —ç—Ç–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:"
echo "   curl -X PUT $API_URL/moderation/112/moderate \\"
echo "        -H 'X-API-Key: $API_KEY' \\"
echo "        -H 'Content-Type: application/json' \\"
echo "        -d '{\"status\": \"approved\", \"reason\": \"–¢–µ—Å—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞\"}'"
echo ""
echo "üìã –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:"
echo "   üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –¥–ª—è —Ç–æ–≤–∞—Ä–∞ REAL-FILE-TEST..."
echo "   –ò—Å—Ç–æ—á–Ω–∏–∫ —Ñ–∞–π–ª–∞: http://img.instrumentstore.ru:5000/img/1_577050.jpg"
echo "   üì• –§–∞–π–ª —Å–∫–∞—á–∞–Ω: ... bytes"
echo "   üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–µ—Ä..."
echo "   üì® –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞: ..."
